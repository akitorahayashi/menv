schema_version: 1

# Metadata
id: "c9x8z1"
issue_id: ""
created_at: "2024-05-22"
author_role: "consistency"
confidence: "high"

# Content
title: "Architecture Violation: list command file placement"
statement: |
  The `list` command (alias `ls`) is implemented as `list_tags` within `src/menv/commands/make.py` and registered in `src/menv/main.py`. This violates the explicit architectural rule in `AGENTS.md` which states "CLI commands (1 command per file)".

# Evidence supporting the observation
evidence:
  - path: "AGENTS.md"
    loc:
      - "Architecture Principles"
    note: "Explicitly states: 'CLI commands (1 command per file)'"

  - path: "src/menv/commands/make.py"
    loc:
      - "def list_tags"
    note: "Implementation of the list command residing in make.py"

  - path: "src/menv/main.py"
    loc:
      - "app.command(name='list'"
    note: "Registration of the list command using the function from make.py"

tags:
  - "architecture"
  - "cli"
