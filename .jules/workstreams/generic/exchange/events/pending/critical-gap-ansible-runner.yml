schema_version: 1

# Metadata
id: "b4c7d2"
issue_id: ""
created_at: "2026-02-02"
author_role: "cov"
confidence: "high"

# Content
title: "Critical Gap: AnsibleRunner Untested"
statement: |
  The AnsibleRunner service, a critical path for all playbook executions, has 0% unit test coverage and is mocked out in CLI tests, leaving the core execution engine unverified.

# Evidence supporting the observation
evidence:
  - path: "src/menv/services/ansible_runner.py"
    loc:
      - "class AnsibleRunner"
    note: "Service implements critical subprocess logic and stream handling but lacks tests."
  - path: "tests/unit/services/"
    loc:
      - "."
    note: "No test_ansible_runner.py exists in the test suite."
  - path: "tests/unit/conftest.py"
    loc:
      - "mock_app_context"
    note: "CLI tests use MockAnsibleRunner, completely bypassing the real service implementation."

tags:
  - "critical-path"
  - "gap"
  - "false-safety"
